import React, { useState, useEffect } from 'react';
import './header.scss';
import { useSelector, useDispatch } from 'react-redux';
import { useHistory, useParams } from 'react-router-dom';
import ProfileMenu from './components/ProfileMenu';
import { useMediaQuery } from 'react-responsive';
import axios from 'axios';
import { SET_UNREAD } from '../../actions/unread';

const Header = () => {
  const pathName = window.location.pathname;
  const { push } = useHistory();
  const { username } = useParams();
  const [profileMenu, setProfileMenu] = useState(false);
  const desktopScreen = useMediaQuery({
    query: '(min-device-width: 1025px)',
  });
  const dispatch = useDispatch();
  const mobileScreen = useMediaQuery({ query: '(max-device-width: 480px)' });
  const profilePic = useSelector((state) => state.profilePic);
  const unread = useSelector((state) => state.unread);

  useEffect(() => {
    const getUnread = async () => {
      const res = await axios.get('/room/get-unread/');

      dispatch(SET_UNREAD(res.data.unread));
    };

    getUnread(); // eslint-disable-next-line react-hooks/exhaustive-deps
  }, []);

  return (
    <>
      {mobileScreen && (
        <header>
          <nav>
            <div className='top_header'>
              <svg
                width='2.76rem'
                height='2.76rem'
                className='logo_icon'
                onClick={() => push('/')}
                viewBox='0 0 45 49'
                fill='none'
                xmlns='http://www.w3.org/2000/svg'
              >
                <path
                  fillRule='evenodd'
                  clipRule='evenodd'
                  d='M0.0473022 17.5621V35.057L2.3884 35.0622L4.72951 35.0672L5.86515 34.0141L7.00079 32.9607V19.7689V6.57729L3.52405 3.32238L0.0473022 0.0674744V17.5621ZM9.50405 19.1741V29.2715L12.9808 26.0411L16.4575 22.8109V19.1571V15.5036L15.5074 14.6451C14.9845 14.1728 13.42 12.7268 12.0307 11.4316L9.50405 9.07664V19.1741ZM18.9608 18.7356V20.71L20.0272 19.7142L21.0933 18.7181L20.0519 17.7398C19.479 17.2015 18.9992 16.7612 18.9855 16.7612C18.9719 16.7612 18.9608 17.6497 18.9608 18.7356ZM15.8086 27.2263C15.4287 27.5845 15.1389 27.8776 15.1642 27.8776C15.1898 27.8776 15.5216 27.5845 15.9013 27.2263C16.2812 26.868 16.5713 26.5749 16.5457 26.5749C16.5201 26.5749 16.1886 26.868 15.8086 27.2263ZM14.5056 28.4638L14.1863 28.7895L14.5339 28.4902C14.8574 28.2116 14.9242 28.1382 14.8532 28.1382C14.8379 28.1382 14.6813 28.2849 14.5056 28.4638ZM7.63189 35.012C7.51424 35.0432 9.47985 35.0724 11.9998 35.0771C14.5195 35.082 16.5599 35.0656 16.5335 35.0411C16.4623 34.9744 7.88027 34.9463 7.63189 35.012Z'
                  fill='#2395FF'
                />
                <path
                  fillRule='evenodd'
                  clipRule='evenodd'
                  d='M41.42 3.32265L37.9667 6.55828L37.99 20.8004L38.0134 35.0424L41.4671 35.0651L44.9207 35.088V17.5874C44.9207 7.96206 44.9099 0.0867615 44.8971 0.0867615C44.884 0.0867615 43.3192 1.54291 41.42 3.32265ZM32.0103 11.541L28.5566 15.2341L28.533 25.9119L28.5566 35.0424L32.0103 35.0651L35.464 35.088V22.7547C35.464 15.9715 35.4768 7.84759 35.464 7.84785C35.4512 7.84811 33.91 9.79248 32.0103 11.541ZM22.5299 21.0171L19.0999 24.2309L19.0952 29.6149C19.0927 32.5762 19.1135 35.0034 19.1416 35.0083C19.1697 35.0135 20.7259 35.0234 22.6 35.0302L26.0072 35.0424V26.423C26.0072 21.6823 25.9964 17.8034 25.9836 17.8034C25.9705 17.8034 24.4163 19.2496 22.5299 21.0171Z'
                  fill='#77BDFF'
                />
                <path
                  fillRule='evenodd'
                  clipRule='evenodd'
                  d='M0 17.5428C0 27.2153 0.0108469 31.1724 0.0241976 26.336C0.0375483 21.4999 0.0375483 13.586 0.0241976 8.74967C0.0108469 3.91355 0 7.87035 0 17.5428ZM18 5.53965L22.4898 11.2248L27 5.53965L31.5 0H22.4898H13.9014L18 5.53965ZM44.966 17.5428C44.966 27.2153 44.9768 31.1724 44.9902 26.336C45.0033 21.4999 45.0033 13.586 44.9902 8.74967C44.9768 3.91355 44.966 7.87035 44.966 17.5428ZM9.43422 19.2147L9.45702 29.3974L9.48095 19.2374L9.50486 9.07743L12.0774 11.4647L14.6496 13.8521L12.1007 11.4421C10.6989 10.1165 9.52016 9.03209 9.4815 9.03209C9.44312 9.03209 9.4217 13.6142 9.43422 19.2147ZM34.4885 11.2248L33.5631 12.115L34.5132 11.2485L35.4631 10.3819L35.487 22.7557L35.5109 35.1292L35.5337 22.732C35.5462 15.9134 35.5245 10.3348 35.4853 10.3348C35.4461 10.3348 34.9975 10.7352 34.4885 11.2248ZM18.8682 18.6668C18.8682 19.7626 18.9024 20.679 18.9441 20.7032C18.9858 20.7274 19.497 20.29 20.0797 19.7311L21.1397 18.7153L20.0503 19.7126L18.9608 20.71V18.7153V16.7208L20.0503 17.7179L21.1397 18.7153L20.075 17.695C19.4892 17.1335 18.9783 16.6745 18.9391 16.6745C18.9001 16.6745 18.8682 17.571 18.8682 18.6668ZM22.4834 20.995L19.0072 24.2736L22.4881 21.0351C24.4026 19.2541 26.0049 17.8276 26.0492 17.8651C26.0934 17.9029 26.0995 17.8849 26.0628 17.8253C26.0261 17.7656 25.988 17.7166 25.978 17.7166C25.9679 17.7166 24.3953 19.1918 22.4834 20.995ZM13.9014 25.1863C12.521 26.4754 11.4157 27.5303 11.4452 27.5303C11.4746 27.5303 12.6248 26.4752 14.0007 25.1855C15.3767 23.8958 16.482 22.8409 16.457 22.8414C16.4319 22.8419 15.2818 23.8971 13.9014 25.1863ZM15.6209 27.4821C15.1377 27.9277 14.71 28.2744 14.6705 28.2523C14.631 28.2301 14.6101 28.2638 14.6243 28.3271C14.6382 28.3904 14.5945 28.4313 14.527 28.4183C14.4594 28.4052 14.4277 28.43 14.4563 28.4735C14.485 28.517 14.4385 28.6061 14.3528 28.6712C14.2188 28.7728 14.2082 28.7713 14.2772 28.6593C14.3214 28.5876 12.7858 29.9924 10.8647 31.7813C7.59349 34.8272 7.22384 35.1818 7.46638 35.0414C7.51839 35.0112 9.59442 34.9885 12.0799 34.9911L16.5985 34.9958L16.5799 30.8629C16.5696 28.5897 16.5471 26.7167 16.5301 26.7008C16.5131 26.6849 16.1037 27.0364 15.6209 27.4821ZM10.1938 28.6173C9.90122 28.8807 9.68065 29.1142 9.70401 29.136C9.72738 29.1579 9.99328 28.9422 10.2945 28.6569C10.9835 28.0048 10.9075 27.9748 10.1938 28.6173ZM9.07292 45.3337C9.07292 45.7396 9.08904 45.9059 9.10851 45.7029C9.12798 45.4997 9.12798 45.1675 9.10851 44.9645C9.08904 44.7616 9.07292 44.9278 9.07292 45.3337ZM14.0027 45.9395C13.9114 46.0341 13.8007 46.0903 13.7565 46.0648C13.7123 46.0393 13.6761 46.0864 13.6761 46.1698C13.6761 46.2925 13.7295 46.2735 13.9543 46.0718C14.1072 45.9345 14.2324 45.81 14.2324 45.7951C14.2324 45.7318 14.1584 45.7785 14.0027 45.9395ZM18.165 47.6351C18.1653 48.5428 18.1789 48.9021 18.1956 48.4339C18.2123 47.9657 18.2123 47.2232 18.1953 46.7839C18.1786 46.3446 18.165 46.7276 18.165 47.6351ZM9.07653 48.1561C9.07681 48.7773 9.09155 49.0198 9.10935 48.6955C9.12715 48.3711 9.12715 47.863 9.10907 47.5663C9.09099 47.2698 9.07653 47.5353 9.07653 48.1561ZM13.8018 48.5037C13.8016 48.9336 13.8171 49.1204 13.8366 48.9187C13.8561 48.7171 13.8564 48.3654 13.8372 48.1371C13.818 47.9089 13.8021 48.0738 13.8018 48.5037Z'
                  fill='#006DD2'
                />
              </svg>
              <input type='text' name='nav_search' placeholder='Search...' />
            </div>
            <div className='bottom_header'>
              <svg
                width='1.85rem'
                height='1.85rem'
                viewBox='0 0 29 29'
                fill='none'
                xmlns='http://www.w3.org/2000/svg'
                onClick={() => push('/')}
              >
                <path
                  d='M18.125 24.8354H22.009C22.1498 24.8354 22.2679 24.7163 22.2679 24.5765V14.4783C22.2679 13.9065 22.7329 13.4425 23.3036 13.4425H25.199L14.5176 4.1905L3.80317 13.4425H5.69646C5.97114 13.4425 6.23458 13.5517 6.42882 13.7459C6.62305 13.9401 6.73217 14.2036 6.73217 14.4783V24.5765C6.73217 24.7163 6.85128 24.8354 6.9911 24.8354H10.875V18.3622C10.875 17.6486 11.4561 17.0675 12.1697 17.0675H16.8304C17.544 17.0675 18.125 17.6486 18.125 18.3622V24.8354ZM22.009 26.389H17.6072C17.3325 26.389 17.069 26.2798 16.8748 26.0856C16.6806 25.8914 16.5715 25.6279 16.5715 25.3533V18.9815C16.5715 18.8859 16.5335 18.7943 16.4659 18.7267C16.3983 18.6591 16.3066 18.6211 16.211 18.6211H12.789C12.7417 18.6211 12.6948 18.6304 12.6511 18.6485C12.6074 18.6667 12.5676 18.6932 12.5342 18.7267C12.5007 18.7601 12.4741 18.7999 12.456 18.8436C12.4379 18.8873 12.4286 18.9342 12.4286 18.9815V25.3533C12.4286 25.6279 12.3195 25.8914 12.1252 26.0856C11.931 26.2798 11.6676 26.389 11.3929 26.389H6.9911C6.51039 26.389 6.04938 26.198 5.70947 25.8581C5.36956 25.5182 5.1786 25.0572 5.1786 24.5765V14.9961H3.17863C2.65871 14.9961 2.15328 14.7227 1.93474 14.2504C1.8147 13.9968 1.7808 13.7109 1.8382 13.4363C1.8956 13.1616 2.04115 12.9132 2.25271 12.7289L13.4653 3.016C13.7212 2.77054 14.094 2.61725 14.4886 2.61104C14.906 2.61725 15.2799 2.77054 15.5637 3.0419L26.7432 12.7248L26.7473 12.7289C27.1813 13.1101 27.3128 13.718 27.0663 14.2504C26.8468 14.7227 26.3424 14.9961 25.8214 14.9961H23.8215V24.5765C23.8215 25.0572 23.6305 25.5182 23.2906 25.8581C22.9507 26.198 22.4897 26.389 22.009 26.389Z'
                  fill={pathName === '/' ? '#1E82DF' : '#B0B3B8'}
                />
              </svg>
              {unread === 0 ? (
                <span className='messages_icon_p2'>
                  <svg
                    width='2.1rem'
                    height='2.1rem'
                    viewBox='0 0 34 27'
                    fill='none'
                    xmlns='http://www.w3.org/2000/svg'
                    onClick={() => push('/inbox')}
                    className='messages_icon'
                  >
                    {pathName === '/inbox' ? (
                      <path
                        d='M27.2708 3.39525H6.72915C5.69576 3.39614 4.70507 3.72269 3.97462 4.30317C3.24417 4.88365 2.83369 5.67062 2.83331 6.49125V20.5481C2.83369 21.3689 3.24412 22.1559 3.97453 22.7366C4.70494 23.3173 5.69563 23.6441 6.72915 23.6452H27.2708C28.3043 23.6441 29.295 23.3173 30.0254 22.7366C30.7558 22.1559 31.1663 21.3689 31.1666 20.5481V6.49125C31.1663 5.67062 30.7558 4.88365 30.0253 4.30317C29.2949 3.72269 28.3042 3.39614 27.2708 3.39525ZM6.72915 5.08275H27.2708C28.2483 5.08275 29.0416 5.71275 29.0416 6.489V7.29225L17.6375 13.3301C17.4485 13.4299 17.2265 13.483 16.9996 13.4826C16.7726 13.4822 16.5509 13.4283 16.3625 13.3279L4.95831 7.29225V6.489C4.95831 5.71275 5.75165 5.08275 6.72915 5.08275ZM27.2708 21.9555H6.72915C5.75165 21.9555 4.95831 21.3255 4.95831 20.5492V9.27L15.215 14.7037C15.743 14.9847 16.3642 15.1348 16.9998 15.135C17.6353 15.1352 18.2567 14.9855 18.785 14.7049L29.0416 9.27112V20.5459C29.0416 21.3221 28.2483 21.9521 27.2708 21.9521V21.9555Z'
                        fill={pathName === `/inbox` ? '#1E82DF' : '#B0B3B8'}
                      />
                    ) : (
                      <>
                        <path
                          d='M27.2708 3.39525H6.72915C5.69576 3.39614 4.70507 3.72269 3.97462 4.30317C3.24417 4.88365 2.83369 5.67062 2.83331 6.49125V20.5481C2.83369 21.3689 3.24412 22.1559 3.97453 22.7366C4.70494 23.3173 5.69563 23.6441 6.72915 23.6452H27.2708C28.3043 23.6441 29.295 23.3173 30.0254 22.7366C30.7558 22.1559 31.1663 21.3689 31.1666 20.5481V6.49125C31.1663 5.67062 30.7558 4.88365 30.0253 4.30317C29.2949 3.72269 28.3042 3.39614 27.2708 3.39525ZM6.72915 5.08275H27.2708C28.2483 5.08275 29.0416 5.71275 29.0416 6.489V7.29225L17.6375 13.3301C17.4485 13.4299 17.2265 13.483 16.9996 13.4826C16.7726 13.4822 16.5509 13.4283 16.3625 13.3279L4.95831 7.29225V6.489C4.95831 5.71275 5.75165 5.08275 6.72915 5.08275ZM27.2708 21.9555H6.72915C5.75165 21.9555 4.95831 21.3255 4.95831 20.5492V9.27L15.215 14.7037C15.743 14.9847 16.3642 15.1348 16.9998 15.135C17.6353 15.1352 18.2567 14.9855 18.785 14.7049L29.0416 9.27112V20.5459C29.0416 21.3221 28.2483 21.9521 27.2708 21.9521V21.9555Z'
                          fill={
                            pathName === `/inbox/${username}`
                              ? '#1E82DF'
                              : '#B0B3B8'
                          }
                        />
                      </>
                    )}
                  </svg>
                </span>
              ) : (
                <span className='messages_icon_p' data-after-content={unread}>
                  <svg
                    width='2.1rem'
                    height='2.1rem'
                    viewBox='0 0 34 27'
                    fill='none'
                    xmlns='http://www.w3.org/2000/svg'
                    onClick={() => push('/inbox')}
                    className='messages_icon'
                  >
                    {pathName === '/inbox' ? (
                      <path
                        d='M27.2708 3.39525H6.72915C5.69576 3.39614 4.70507 3.72269 3.97462 4.30317C3.24417 4.88365 2.83369 5.67062 2.83331 6.49125V20.5481C2.83369 21.3689 3.24412 22.1559 3.97453 22.7366C4.70494 23.3173 5.69563 23.6441 6.72915 23.6452H27.2708C28.3043 23.6441 29.295 23.3173 30.0254 22.7366C30.7558 22.1559 31.1663 21.3689 31.1666 20.5481V6.49125C31.1663 5.67062 30.7558 4.88365 30.0253 4.30317C29.2949 3.72269 28.3042 3.39614 27.2708 3.39525ZM6.72915 5.08275H27.2708C28.2483 5.08275 29.0416 5.71275 29.0416 6.489V7.29225L17.6375 13.3301C17.4485 13.4299 17.2265 13.483 16.9996 13.4826C16.7726 13.4822 16.5509 13.4283 16.3625 13.3279L4.95831 7.29225V6.489C4.95831 5.71275 5.75165 5.08275 6.72915 5.08275ZM27.2708 21.9555H6.72915C5.75165 21.9555 4.95831 21.3255 4.95831 20.5492V9.27L15.215 14.7037C15.743 14.9847 16.3642 15.1348 16.9998 15.135C17.6353 15.1352 18.2567 14.9855 18.785 14.7049L29.0416 9.27112V20.5459C29.0416 21.3221 28.2483 21.9521 27.2708 21.9521V21.9555Z'
                        fill={pathName === `/inbox` ? '#1E82DF' : '#B0B3B8'}
                      />
                    ) : (
                      <>
                        <path
                          d='M27.2708 3.39525H6.72915C5.69576 3.39614 4.70507 3.72269 3.97462 4.30317C3.24417 4.88365 2.83369 5.67062 2.83331 6.49125V20.5481C2.83369 21.3689 3.24412 22.1559 3.97453 22.7366C4.70494 23.3173 5.69563 23.6441 6.72915 23.6452H27.2708C28.3043 23.6441 29.295 23.3173 30.0254 22.7366C30.7558 22.1559 31.1663 21.3689 31.1666 20.5481V6.49125C31.1663 5.67062 30.7558 4.88365 30.0253 4.30317C29.2949 3.72269 28.3042 3.39614 27.2708 3.39525ZM6.72915 5.08275H27.2708C28.2483 5.08275 29.0416 5.71275 29.0416 6.489V7.29225L17.6375 13.3301C17.4485 13.4299 17.2265 13.483 16.9996 13.4826C16.7726 13.4822 16.5509 13.4283 16.3625 13.3279L4.95831 7.29225V6.489C4.95831 5.71275 5.75165 5.08275 6.72915 5.08275ZM27.2708 21.9555H6.72915C5.75165 21.9555 4.95831 21.3255 4.95831 20.5492V9.27L15.215 14.7037C15.743 14.9847 16.3642 15.1348 16.9998 15.135C17.6353 15.1352 18.2567 14.9855 18.785 14.7049L29.0416 9.27112V20.5459C29.0416 21.3221 28.2483 21.9521 27.2708 21.9521V21.9555Z'
                          fill={
                            pathName === `/inbox/${username}`
                              ? '#1E82DF'
                              : '#B0B3B8'
                          }
                        />
                      </>
                    )}
                  </svg>
                </span>
              )}
              <svg
                width='1.77rem'
                height='1.77rem'
                viewBox='0 0 24 23'
                fill='none'
                xmlns='http://www.w3.org/2000/svg'
                onClick={() => push('/saved')}
              >
                <path
                  d='M19.9 22.5208C19.7412 22.5205 19.5865 22.4722 19.458 22.3828L12 17.181L4.54198 22.3848C4.43006 22.463 4.29772 22.51 4.15962 22.5206C4.02153 22.5311 3.88309 22.5048 3.75964 22.4446C3.63619 22.3843 3.53257 22.2925 3.46026 22.1793C3.38795 22.066 3.34978 21.9358 3.34998 21.803V5.36667C3.34998 4.17834 4.35998 3.21042 5.59998 3.21042H18.398C19.638 3.21042 20.648 4.17834 20.648 5.36667V21.8021C20.6481 21.8965 20.6288 21.99 20.5912 22.0773C20.5535 22.1645 20.4983 22.2438 20.4286 22.3106C20.3589 22.3774 20.2762 22.4303 20.1851 22.4664C20.0941 22.5025 19.9965 22.521 19.898 22.5208H19.9ZM12 15.5729C12.1583 15.5726 12.3125 15.621 12.44 15.7109L19.15 20.3905V5.36667C19.1494 5.1762 19.0703 4.99368 18.9297 4.85899C18.7892 4.72431 18.5987 4.64842 18.4 4.64792H5.59998C5.40123 4.64842 5.21077 4.72431 5.07023 4.85899C4.92969 4.99368 4.8505 5.1762 4.84998 5.36667V20.3905L11.56 15.7109C11.6875 15.621 11.8417 15.5726 12 15.5729V15.5729Z'
                  fill={pathName === '/saved' ? '#1E82DF' : '#B0B3B8'}
                />
              </svg>
              {profileMenu && <ProfileMenu setProfileMenu={setProfileMenu} />}
              {pathName === `/profile/${username}` ? (
                <img
                  src={profilePic}
                  alt='User profile'
                  style={{ border: '2px #1E82DF solid' }}
                  onClick={() => setProfileMenu(!profileMenu)}
                />
              ) : (
                <img
                  src={profilePic}
                  alt='User profile'
                  onClick={() => setProfileMenu(!profileMenu)}
                />
              )}
            </div>
          </nav>
        </header>
      )}
      {desktopScreen && (
        <header>
          <nav className='nav'>
            <div className='nav_left'>
              <svg
                width='2.85rem'
                height='2.85rem'
                className='logo_icon'
                onClick={() => push('/')}
                viewBox='0 0 45 49'
                fill='none'
                xmlns='http://www.w3.org/2000/svg'
              >
                <path
                  fillRule='evenodd'
                  clipRule='evenodd'
                  d='M0.0473022 17.5621V35.057L2.3884 35.0622L4.72951 35.0672L5.86515 34.0141L7.00079 32.9607V19.7689V6.57729L3.52405 3.32238L0.0473022 0.0674744V17.5621ZM9.50405 19.1741V29.2715L12.9808 26.0411L16.4575 22.8109V19.1571V15.5036L15.5074 14.6451C14.9845 14.1728 13.42 12.7268 12.0307 11.4316L9.50405 9.07664V19.1741ZM18.9608 18.7356V20.71L20.0272 19.7142L21.0933 18.7181L20.0519 17.7398C19.479 17.2015 18.9992 16.7612 18.9855 16.7612C18.9719 16.7612 18.9608 17.6497 18.9608 18.7356ZM15.8086 27.2263C15.4287 27.5845 15.1389 27.8776 15.1642 27.8776C15.1898 27.8776 15.5216 27.5845 15.9013 27.2263C16.2812 26.868 16.5713 26.5749 16.5457 26.5749C16.5201 26.5749 16.1886 26.868 15.8086 27.2263ZM14.5056 28.4638L14.1863 28.7895L14.5339 28.4902C14.8574 28.2116 14.9242 28.1382 14.8532 28.1382C14.8379 28.1382 14.6813 28.2849 14.5056 28.4638ZM7.63189 35.012C7.51424 35.0432 9.47985 35.0724 11.9998 35.0771C14.5195 35.082 16.5599 35.0656 16.5335 35.0411C16.4623 34.9744 7.88027 34.9463 7.63189 35.012Z'
                  fill='#2395FF'
                />
                <path
                  fillRule='evenodd'
                  clipRule='evenodd'
                  d='M41.42 3.32265L37.9667 6.55828L37.99 20.8004L38.0134 35.0424L41.4671 35.0651L44.9207 35.088V17.5874C44.9207 7.96206 44.9099 0.0867615 44.8971 0.0867615C44.884 0.0867615 43.3192 1.54291 41.42 3.32265ZM32.0103 11.541L28.5566 15.2341L28.533 25.9119L28.5566 35.0424L32.0103 35.0651L35.464 35.088V22.7547C35.464 15.9715 35.4768 7.84759 35.464 7.84785C35.4512 7.84811 33.91 9.79248 32.0103 11.541ZM22.5299 21.0171L19.0999 24.2309L19.0952 29.6149C19.0927 32.5762 19.1135 35.0034 19.1416 35.0083C19.1697 35.0135 20.7259 35.0234 22.6 35.0302L26.0072 35.0424V26.423C26.0072 21.6823 25.9964 17.8034 25.9836 17.8034C25.9705 17.8034 24.4163 19.2496 22.5299 21.0171Z'
                  fill='#77BDFF'
                />
                <path
                  fillRule='evenodd'
                  clipRule='evenodd'
                  d='M0 17.5428C0 27.2153 0.0108469 31.1724 0.0241976 26.336C0.0375483 21.4999 0.0375483 13.586 0.0241976 8.74967C0.0108469 3.91355 0 7.87035 0 17.5428ZM18 5.53965L22.4898 11.2248L27 5.53965L31.5 0H22.4898H13.9014L18 5.53965ZM44.966 17.5428C44.966 27.2153 44.9768 31.1724 44.9902 26.336C45.0033 21.4999 45.0033 13.586 44.9902 8.74967C44.9768 3.91355 44.966 7.87035 44.966 17.5428ZM9.43422 19.2147L9.45702 29.3974L9.48095 19.2374L9.50486 9.07743L12.0774 11.4647L14.6496 13.8521L12.1007 11.4421C10.6989 10.1165 9.52016 9.03209 9.4815 9.03209C9.44312 9.03209 9.4217 13.6142 9.43422 19.2147ZM34.4885 11.2248L33.5631 12.115L34.5132 11.2485L35.4631 10.3819L35.487 22.7557L35.5109 35.1292L35.5337 22.732C35.5462 15.9134 35.5245 10.3348 35.4853 10.3348C35.4461 10.3348 34.9975 10.7352 34.4885 11.2248ZM18.8682 18.6668C18.8682 19.7626 18.9024 20.679 18.9441 20.7032C18.9858 20.7274 19.497 20.29 20.0797 19.7311L21.1397 18.7153L20.0503 19.7126L18.9608 20.71V18.7153V16.7208L20.0503 17.7179L21.1397 18.7153L20.075 17.695C19.4892 17.1335 18.9783 16.6745 18.9391 16.6745C18.9001 16.6745 18.8682 17.571 18.8682 18.6668ZM22.4834 20.995L19.0072 24.2736L22.4881 21.0351C24.4026 19.2541 26.0049 17.8276 26.0492 17.8651C26.0934 17.9029 26.0995 17.8849 26.0628 17.8253C26.0261 17.7656 25.988 17.7166 25.978 17.7166C25.9679 17.7166 24.3953 19.1918 22.4834 20.995ZM13.9014 25.1863C12.521 26.4754 11.4157 27.5303 11.4452 27.5303C11.4746 27.5303 12.6248 26.4752 14.0007 25.1855C15.3767 23.8958 16.482 22.8409 16.457 22.8414C16.4319 22.8419 15.2818 23.8971 13.9014 25.1863ZM15.6209 27.4821C15.1377 27.9277 14.71 28.2744 14.6705 28.2523C14.631 28.2301 14.6101 28.2638 14.6243 28.3271C14.6382 28.3904 14.5945 28.4313 14.527 28.4183C14.4594 28.4052 14.4277 28.43 14.4563 28.4735C14.485 28.517 14.4385 28.6061 14.3528 28.6712C14.2188 28.7728 14.2082 28.7713 14.2772 28.6593C14.3214 28.5876 12.7858 29.9924 10.8647 31.7813C7.59349 34.8272 7.22384 35.1818 7.46638 35.0414C7.51839 35.0112 9.59442 34.9885 12.0799 34.9911L16.5985 34.9958L16.5799 30.8629C16.5696 28.5897 16.5471 26.7167 16.5301 26.7008C16.5131 26.6849 16.1037 27.0364 15.6209 27.4821ZM10.1938 28.6173C9.90122 28.8807 9.68065 29.1142 9.70401 29.136C9.72738 29.1579 9.99328 28.9422 10.2945 28.6569C10.9835 28.0048 10.9075 27.9748 10.1938 28.6173ZM9.07292 45.3337C9.07292 45.7396 9.08904 45.9059 9.10851 45.7029C9.12798 45.4997 9.12798 45.1675 9.10851 44.9645C9.08904 44.7616 9.07292 44.9278 9.07292 45.3337ZM14.0027 45.9395C13.9114 46.0341 13.8007 46.0903 13.7565 46.0648C13.7123 46.0393 13.6761 46.0864 13.6761 46.1698C13.6761 46.2925 13.7295 46.2735 13.9543 46.0718C14.1072 45.9345 14.2324 45.81 14.2324 45.7951C14.2324 45.7318 14.1584 45.7785 14.0027 45.9395ZM18.165 47.6351C18.1653 48.5428 18.1789 48.9021 18.1956 48.4339C18.2123 47.9657 18.2123 47.2232 18.1953 46.7839C18.1786 46.3446 18.165 46.7276 18.165 47.6351ZM9.07653 48.1561C9.07681 48.7773 9.09155 49.0198 9.10935 48.6955C9.12715 48.3711 9.12715 47.863 9.10907 47.5663C9.09099 47.2698 9.07653 47.5353 9.07653 48.1561ZM13.8018 48.5037C13.8016 48.9336 13.8171 49.1204 13.8366 48.9187C13.8561 48.7171 13.8564 48.3654 13.8372 48.1371C13.818 47.9089 13.8021 48.0738 13.8018 48.5037Z'
                  fill='#006DD2'
                />
              </svg>
              <input type='text' name='nav_search' placeholder='Search...' />
            </div>
            <div className='nav_right'>
              <svg
                width='1.85rem'
                height='1.85rem'
                viewBox='0 0 29 29'
                fill='none'
                xmlns='http://www.w3.org/2000/svg'
                onClick={() => push('/')}
                className='home_icon'
              >
                <path
                  d='M18.125 24.8354H22.009C22.1498 24.8354 22.2679 24.7163 22.2679 24.5765V14.4783C22.2679 13.9065 22.7329 13.4425 23.3036 13.4425H25.199L14.5176 4.1905L3.80317 13.4425H5.69646C5.97114 13.4425 6.23458 13.5517 6.42882 13.7459C6.62305 13.9401 6.73217 14.2036 6.73217 14.4783V24.5765C6.73217 24.7163 6.85128 24.8354 6.9911 24.8354H10.875V18.3622C10.875 17.6486 11.4561 17.0675 12.1697 17.0675H16.8304C17.544 17.0675 18.125 17.6486 18.125 18.3622V24.8354ZM22.009 26.389H17.6072C17.3325 26.389 17.069 26.2798 16.8748 26.0856C16.6806 25.8914 16.5715 25.6279 16.5715 25.3533V18.9815C16.5715 18.8859 16.5335 18.7943 16.4659 18.7267C16.3983 18.6591 16.3066 18.6211 16.211 18.6211H12.789C12.7417 18.6211 12.6948 18.6304 12.6511 18.6485C12.6074 18.6667 12.5676 18.6932 12.5342 18.7267C12.5007 18.7601 12.4741 18.7999 12.456 18.8436C12.4379 18.8873 12.4286 18.9342 12.4286 18.9815V25.3533C12.4286 25.6279 12.3195 25.8914 12.1252 26.0856C11.931 26.2798 11.6676 26.389 11.3929 26.389H6.9911C6.51039 26.389 6.04938 26.198 5.70947 25.8581C5.36956 25.5182 5.1786 25.0572 5.1786 24.5765V14.9961H3.17863C2.65871 14.9961 2.15328 14.7227 1.93474 14.2504C1.8147 13.9968 1.7808 13.7109 1.8382 13.4363C1.8956 13.1616 2.04115 12.9132 2.25271 12.7289L13.4653 3.016C13.7212 2.77054 14.094 2.61725 14.4886 2.61104C14.906 2.61725 15.2799 2.77054 15.5637 3.0419L26.7432 12.7248L26.7473 12.7289C27.1813 13.1101 27.3128 13.718 27.0663 14.2504C26.8468 14.7227 26.3424 14.9961 25.8214 14.9961H23.8215V24.5765C23.8215 25.0572 23.6305 25.5182 23.2906 25.8581C22.9507 26.198 22.4897 26.389 22.009 26.389Z'
                  fill={pathName === '/' ? '#1E82DF' : '#B0B3B8'}
                />
              </svg>
              {unread === 0 ? (
                <span className='messages_icon_p2'>
                  <svg
                    width='2.1rem'
                    height='2.1rem'
                    viewBox='0 0 34 27'
                    fill='none'
                    xmlns='http://www.w3.org/2000/svg'
                    onClick={() => push('/inbox')}
                    className='messages_icon'
                  >
                    {pathName === '/inbox' ? (
                      <path
                        d='M27.2708 3.39525H6.72915C5.69576 3.39614 4.70507 3.72269 3.97462 4.30317C3.24417 4.88365 2.83369 5.67062 2.83331 6.49125V20.5481C2.83369 21.3689 3.24412 22.1559 3.97453 22.7366C4.70494 23.3173 5.69563 23.6441 6.72915 23.6452H27.2708C28.3043 23.6441 29.295 23.3173 30.0254 22.7366C30.7558 22.1559 31.1663 21.3689 31.1666 20.5481V6.49125C31.1663 5.67062 30.7558 4.88365 30.0253 4.30317C29.2949 3.72269 28.3042 3.39614 27.2708 3.39525ZM6.72915 5.08275H27.2708C28.2483 5.08275 29.0416 5.71275 29.0416 6.489V7.29225L17.6375 13.3301C17.4485 13.4299 17.2265 13.483 16.9996 13.4826C16.7726 13.4822 16.5509 13.4283 16.3625 13.3279L4.95831 7.29225V6.489C4.95831 5.71275 5.75165 5.08275 6.72915 5.08275ZM27.2708 21.9555H6.72915C5.75165 21.9555 4.95831 21.3255 4.95831 20.5492V9.27L15.215 14.7037C15.743 14.9847 16.3642 15.1348 16.9998 15.135C17.6353 15.1352 18.2567 14.9855 18.785 14.7049L29.0416 9.27112V20.5459C29.0416 21.3221 28.2483 21.9521 27.2708 21.9521V21.9555Z'
                        fill={pathName === `/inbox` ? '#1E82DF' : '#B0B3B8'}
                      />
                    ) : (
                      <>
                        <path
                          d='M27.2708 3.39525H6.72915C5.69576 3.39614 4.70507 3.72269 3.97462 4.30317C3.24417 4.88365 2.83369 5.67062 2.83331 6.49125V20.5481C2.83369 21.3689 3.24412 22.1559 3.97453 22.7366C4.70494 23.3173 5.69563 23.6441 6.72915 23.6452H27.2708C28.3043 23.6441 29.295 23.3173 30.0254 22.7366C30.7558 22.1559 31.1663 21.3689 31.1666 20.5481V6.49125C31.1663 5.67062 30.7558 4.88365 30.0253 4.30317C29.2949 3.72269 28.3042 3.39614 27.2708 3.39525ZM6.72915 5.08275H27.2708C28.2483 5.08275 29.0416 5.71275 29.0416 6.489V7.29225L17.6375 13.3301C17.4485 13.4299 17.2265 13.483 16.9996 13.4826C16.7726 13.4822 16.5509 13.4283 16.3625 13.3279L4.95831 7.29225V6.489C4.95831 5.71275 5.75165 5.08275 6.72915 5.08275ZM27.2708 21.9555H6.72915C5.75165 21.9555 4.95831 21.3255 4.95831 20.5492V9.27L15.215 14.7037C15.743 14.9847 16.3642 15.1348 16.9998 15.135C17.6353 15.1352 18.2567 14.9855 18.785 14.7049L29.0416 9.27112V20.5459C29.0416 21.3221 28.2483 21.9521 27.2708 21.9521V21.9555Z'
                          fill={
                            pathName === `/inbox/${username}`
                              ? '#1E82DF'
                              : '#B0B3B8'
                          }
                        />
                      </>
                    )}
                  </svg>
                </span>
              ) : (
                <span className='messages_icon_p' data-after-content={unread}>
                  <svg
                    width='2.1rem'
                    height='2.1rem'
                    viewBox='0 0 34 27'
                    fill='none'
                    xmlns='http://www.w3.org/2000/svg'
                    onClick={() => push('/inbox')}
                    className='messages_icon'
                  >
                    {pathName === '/inbox' ? (
                      <path
                        d='M27.2708 3.39525H6.72915C5.69576 3.39614 4.70507 3.72269 3.97462 4.30317C3.24417 4.88365 2.83369 5.67062 2.83331 6.49125V20.5481C2.83369 21.3689 3.24412 22.1559 3.97453 22.7366C4.70494 23.3173 5.69563 23.6441 6.72915 23.6452H27.2708C28.3043 23.6441 29.295 23.3173 30.0254 22.7366C30.7558 22.1559 31.1663 21.3689 31.1666 20.5481V6.49125C31.1663 5.67062 30.7558 4.88365 30.0253 4.30317C29.2949 3.72269 28.3042 3.39614 27.2708 3.39525ZM6.72915 5.08275H27.2708C28.2483 5.08275 29.0416 5.71275 29.0416 6.489V7.29225L17.6375 13.3301C17.4485 13.4299 17.2265 13.483 16.9996 13.4826C16.7726 13.4822 16.5509 13.4283 16.3625 13.3279L4.95831 7.29225V6.489C4.95831 5.71275 5.75165 5.08275 6.72915 5.08275ZM27.2708 21.9555H6.72915C5.75165 21.9555 4.95831 21.3255 4.95831 20.5492V9.27L15.215 14.7037C15.743 14.9847 16.3642 15.1348 16.9998 15.135C17.6353 15.1352 18.2567 14.9855 18.785 14.7049L29.0416 9.27112V20.5459C29.0416 21.3221 28.2483 21.9521 27.2708 21.9521V21.9555Z'
                        fill={pathName === `/inbox` ? '#1E82DF' : '#B0B3B8'}
                      />
                    ) : (
                      <>
                        <path
                          d='M27.2708 3.39525H6.72915C5.69576 3.39614 4.70507 3.72269 3.97462 4.30317C3.24417 4.88365 2.83369 5.67062 2.83331 6.49125V20.5481C2.83369 21.3689 3.24412 22.1559 3.97453 22.7366C4.70494 23.3173 5.69563 23.6441 6.72915 23.6452H27.2708C28.3043 23.6441 29.295 23.3173 30.0254 22.7366C30.7558 22.1559 31.1663 21.3689 31.1666 20.5481V6.49125C31.1663 5.67062 30.7558 4.88365 30.0253 4.30317C29.2949 3.72269 28.3042 3.39614 27.2708 3.39525ZM6.72915 5.08275H27.2708C28.2483 5.08275 29.0416 5.71275 29.0416 6.489V7.29225L17.6375 13.3301C17.4485 13.4299 17.2265 13.483 16.9996 13.4826C16.7726 13.4822 16.5509 13.4283 16.3625 13.3279L4.95831 7.29225V6.489C4.95831 5.71275 5.75165 5.08275 6.72915 5.08275ZM27.2708 21.9555H6.72915C5.75165 21.9555 4.95831 21.3255 4.95831 20.5492V9.27L15.215 14.7037C15.743 14.9847 16.3642 15.1348 16.9998 15.135C17.6353 15.1352 18.2567 14.9855 18.785 14.7049L29.0416 9.27112V20.5459C29.0416 21.3221 28.2483 21.9521 27.2708 21.9521V21.9555Z'
                          fill={
                            pathName === `/inbox/${username}`
                              ? '#1E82DF'
                              : '#B0B3B8'
                          }
                        />
                      </>
                    )}
                  </svg>
                </span>
              )}
              <svg
                width='1.77rem'
                height='1.77rem'
                viewBox='0 0 24 23'
                fill='none'
                xmlns='http://www.w3.org/2000/svg'
                onClick={() => push('/saved')}
                className='saved_icon'
              >
                <path
                  d='M19.9 22.5208C19.7412 22.5205 19.5865 22.4722 19.458 22.3828L12 17.181L4.54198 22.3848C4.43006 22.463 4.29772 22.51 4.15962 22.5206C4.02153 22.5311 3.88309 22.5048 3.75964 22.4446C3.63619 22.3843 3.53257 22.2925 3.46026 22.1793C3.38795 22.066 3.34978 21.9358 3.34998 21.803V5.36667C3.34998 4.17834 4.35998 3.21042 5.59998 3.21042H18.398C19.638 3.21042 20.648 4.17834 20.648 5.36667V21.8021C20.6481 21.8965 20.6288 21.99 20.5912 22.0773C20.5535 22.1645 20.4983 22.2438 20.4286 22.3106C20.3589 22.3774 20.2762 22.4303 20.1851 22.4664C20.0941 22.5025 19.9965 22.521 19.898 22.5208H19.9ZM12 15.5729C12.1583 15.5726 12.3125 15.621 12.44 15.7109L19.15 20.3905V5.36667C19.1494 5.1762 19.0703 4.99368 18.9297 4.85899C18.7892 4.72431 18.5987 4.64842 18.4 4.64792H5.59998C5.40123 4.64842 5.21077 4.72431 5.07023 4.85899C4.92969 4.99368 4.8505 5.1762 4.84998 5.36667V20.3905L11.56 15.7109C11.6875 15.621 11.8417 15.5726 12 15.5729V15.5729Z'
                  fill={pathName === '/saved' ? '#1E82DF' : '#B0B3B8'}
                />
              </svg>
              {profileMenu && <ProfileMenu setProfileMenu={setProfileMenu} />}
              {pathName === `/profile/${username}` ? (
                <img
                  src={profilePic}
                  alt='User profile'
                  style={{ border: '2px #1E82DF solid' }}
                  onClick={() => setProfileMenu(!profileMenu)}
                  className='profile_icon'
                />
              ) : (
                <img
                  src={profilePic}
                  alt='User profile'
                  onClick={() => setProfileMenu(!profileMenu)}
                  className='profile_icon'
                />
              )}
            </div>
          </nav>
        </header>
      )}
    </>
  );
};

export default Header;
